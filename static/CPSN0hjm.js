import{p as Rt,r as _,q as Nt,s as G,v as B,x as z,y as oe,z as Mt,A as Xe,B as me,C as fe,D as De,m as F,E as ie,F as E,b as p,G as be,n as Q,H as Je,I as $,a as P,J as A,K as Oe,L as Fe,M as ne,N as Ye,O as Se,i as q,P as ee,Q as Ht,R as N,S as Ze,T as jt,U as Gt,V as le,W as qe,X as ve,Y as ue,Z as Y,$ as _e,a0 as Ut,d as R,a1 as ke,a2 as de,t as J,a3 as Te,a4 as ae,a5 as te,a6 as Kt,a7 as Wt,a8 as zt,a9 as Qt,_ as Xt,e as Jt,k as Yt,c as Pe,o as X,aa as ce,w as T,ab as Zt,ac as qt}from"#entry";import{V as we,a as Ie,b as $e,c as Re}from"./DSUDakof.js";import{V as M,a as Ee,u as ea,L as ta,m as aa,b as Be,c as la,f as et,d as na,e as ra,g as Ne,h as oa,i as sa,j as Me,k as ia,l as ua}from"./oUUxz8iw.js";import{m as da,a as ca,b as fa,c as va,d as tt,e as ga,u as ma,V as ge,f as ba,g as at,h as ya,i as ha,j as pa,k as xa}from"./B40JzDP1.js";import{u as Sa,a as U,m as lt,b as Ae}from"./CJn3Air_.js";function He(e,t,a){return Object.keys(e).filter(l=>Rt(l)&&l.endsWith(t)).reduce((l,n)=>(l[n.slice(0,-t.length)]=r=>e[n](r,a(r)),l),{})}function ka(){const e=_([]);Nt(()=>e.value=[]);function t(a,l){e.value[l]=a}return{refs:e,updateRef:t}}const Pa=B({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:$,default:"$first"},prevIcon:{type:$,default:"$prev"},nextIcon:{type:$,default:"$next"},lastIcon:{type:$,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ga(),...Ae(),...tt(),...va(),...fa(),...ca(),...lt({tag:"nav"}),...Je(),...da({variant:"text"})},"VPagination"),je=G()({name:"VPagination",props:Pa(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=z(e,"modelValue"),{t:r,n:o}=oe(),{isRtl:u}=Mt(),{themeClasses:s}=Xe(e),{width:i}=me(),f=fe(-1);De(void 0,{scoped:!0});const{resizeRef:y}=Sa(k=>{if(!k.length)return;const{target:w,contentRect:c}=k[0],g=w.querySelector(".v-pagination__list > *");if(!g)return;const b=c.width,L=g.offsetWidth+parseFloat(getComputedStyle(g).marginRight)*2;f.value=h(b,L)}),d=F(()=>parseInt(e.length,10)),v=F(()=>parseInt(e.start,10)),S=F(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):f.value>=0?f.value:h(i.value,58));function h(k,w){const c=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((k-w*c)/w).toFixed(2))))}const m=F(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(S.value<=0)return[];if(S.value===1)return[n.value];if(d.value<=S.value)return ie(d.value,v.value);const k=S.value%2===0,w=k?S.value/2:Math.floor(S.value/2),c=k?w:w+1,g=d.value-w;if(c-n.value>=0)return[...ie(Math.max(1,S.value-1),v.value),e.ellipsis,d.value];if(n.value-g>=(k?1:0)){const b=S.value-1,L=d.value-b+v.value;return[v.value,e.ellipsis,...ie(b,L)]}else{const b=Math.max(1,S.value-2),L=b===1?n.value:n.value-Math.ceil(b/2)+v.value;return[v.value,e.ellipsis,...ie(b,L),e.ellipsis,d.value]}});function V(k,w,c){k.preventDefault(),n.value=w,c&&l(c,w)}const{refs:x,updateRef:I}=ka();De({VPaginationBtn:{color:E(()=>e.color),border:E(()=>e.border),density:E(()=>e.density),size:E(()=>e.size),variant:E(()=>e.variant),rounded:E(()=>e.rounded),elevation:E(()=>e.elevation)}});const C=F(()=>m.value.map((k,w)=>{const c=g=>I(g,w);if(typeof k=="string")return{isActive:!1,key:`ellipsis-${w}`,page:k,props:{ref:c,ellipsis:!0,icon:!0,disabled:!0}};{const g=k===n.value;return{isActive:g,key:k,page:o(k),props:{ref:c,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:g?e.activeColor:e.color,"aria-current":g,"aria-label":r(g?e.currentPageAriaLabel:e.pageAriaLabel,k),onClick:b=>V(b,k)}}}})),D=F(()=>{const k=!!e.disabled||n.value<=v.value,w=!!e.disabled||n.value>=v.value+d.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:c=>V(c,v.value,"first"),disabled:k,"aria-label":r(e.firstAriaLabel),"aria-disabled":k}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:c=>V(c,n.value-1,"prev"),disabled:k,"aria-label":r(e.previousAriaLabel),"aria-disabled":k},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:c=>V(c,n.value+1,"next"),disabled:w,"aria-label":r(e.nextAriaLabel),"aria-disabled":w},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:c=>V(c,v.value+d.value-1,"last"),disabled:w,"aria-label":r(e.lastAriaLabel),"aria-disabled":w}:void 0}});function O(){const k=n.value-v.value;x.value[k]?.$el.focus()}function H(k){k.key===Oe.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,Fe(O)):k.key===Oe.right&&!e.disabled&&n.value<v.value+d.value-1&&(n.value=n.value+1,Fe(O))}return U(()=>p(e.tag,{ref:y,class:Q(["v-pagination",s.value,e.class]),style:be(e.style),role:"navigation","aria-label":r(e.ariaLabel),onKeydown:H,"data-test":"v-pagination-root"},{default:()=>[P("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&P("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(D.value.first):p(M,A({_as:"VPaginationBtn"},D.value.first),null)]),P("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(D.value.prev):p(M,A({_as:"VPaginationBtn"},D.value.prev),null)]),C.value.map((k,w)=>P("li",{key:k.key,class:Q(["v-pagination__item",{"v-pagination__item--is-active":k.isActive}]),"data-test":"v-pagination-item"},[a.item?a.item(k):p(M,A({_as:"VPaginationBtn"},k.props),{default:()=>[k.page]})])),P("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(D.value.next):p(M,A({_as:"VPaginationBtn"},D.value.next),null)]),e.showFirstLastPage&&P("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(D.value.last):p(M,A({_as:"VPaginationBtn"},D.value.last),null)])])]})),{}}}),wa=B({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),nt=Symbol.for("vuetify:data-table-pagination");function Ia(e){const t=z(e,"page",void 0,l=>Number(l??1)),a=z(e,"itemsPerPage",void 0,l=>Number(l??10));return{page:t,itemsPerPage:a}}function Va(e){const{page:t,itemsPerPage:a,itemsLength:l}=e,n=F(()=>a.value===-1?0:a.value*(t.value-1)),r=F(()=>a.value===-1?l.value:Math.min(l.value,n.value+a.value)),o=F(()=>a.value===-1||l.value===0?1:Math.ceil(l.value/a.value));ne([t,o],()=>{t.value>o.value&&(t.value=o.value)});function u(d){a.value=d,t.value=1}function s(){t.value=Se(t.value+1,1,o.value)}function i(){t.value=Se(t.value-1,1,o.value)}function f(d){t.value=Se(d,1,o.value)}const y={page:t,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:o,itemsLength:l,nextPage:s,prevPage:i,setPage:f,setItemsPerPage:u};return ee(nt,y),y}function Da(){const e=q(nt);if(!e)throw new Error("Missing pagination!");return e}function Fa(e){const t=Ye("usePaginatedItems"),{items:a,startIndex:l,stopIndex:n,itemsPerPage:r}=e,o=F(()=>r.value<=0?a.value:a.value.slice(l.value,n.value));return ne(o,u=>{t.emit("update:currentItems",u)},{immediate:!0}),{paginatedItems:o}}const rt=B({prevIcon:{type:$,default:"$prev"},nextIcon:{type:$,default:"$next"},firstIcon:{type:$,default:"$first"},lastIcon:{type:$,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ge=G()({name:"VDataTableFooter",props:rt(),setup(e,t){let{slots:a}=t;const{t:l}=oe(),{page:n,pageCount:r,startIndex:o,stopIndex:u,itemsLength:s,itemsPerPage:i,setItemsPerPage:f}=Da(),y=F(()=>e.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?l("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:isNaN(Number(d.title))?l(d.title):d.title}));return U(()=>{const d=je.filterProps(e);return P("div",{class:"v-data-table-footer"},[a.prepend?.(),P("div",{class:"v-data-table-footer__items-per-page"},[P("span",{"aria-label":l(e.itemsPerPageText)},[l(e.itemsPerPageText)]),p(Ee,{items:y.value,modelValue:i.value,"onUpdate:modelValue":v=>f(Number(v)),density:"compact",variant:"outlined",hideDetails:!0},null)]),P("div",{class:"v-data-table-footer__info"},[P("div",null,[l(e.pageText,s.value?o.value+1:0,u.value,s.value)])]),P("div",{class:"v-data-table-footer__pagination"},[p(je,A({modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),re=Ht({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const l=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return p(l,{class:Q(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:N(e.height),width:N(e.width),maxWidth:N(e.maxWidth),left:n==="start"?N(e.fixedOffset||null):void 0,right:n==="end"?N(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?N(e.indent):void 0}},{default:()=>[a.default?.()]})}),Ta=B({headers:Array},"DataTable-header"),ot=Symbol.for("vuetify:data-table-headers"),st={title:"",sortable:!1},Ca={...st,width:48};function _a(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,l)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>l){t.splice(r,0,{element:a,priority:l}),n=!0;break}n||t.push({element:a,priority:l})},size:()=>t.length,count:()=>{let a=0;if(!t.length)return 0;const l=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===l&&(a+=1);return a},dequeue:()=>t.shift()}}function Ce(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const a of e.children)Ce(a,t);return t}function it(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&it(a.children,t);return t}function Ea(e){if(e.key){if(e.key==="data-table-group")return st;if(["data-table-expand","data-table-select"].includes(e.key))return Ca}}function Le(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(a=>Le(a,t+1))):t}function Ba(e){let t=!1;function a(r,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(u!=="none"&&(r.fixed=u),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o,o);else!t&&o==="start"?r.lastFixed=!0:!t&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?Gt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)a(r.children[s],o);else for(let s=0;s<r.children.length;s++)a(r.children[s],o);else t=!1}for(let r=e.length-1;r>=0;r--)a(e[r],"start");for(let r=0;r<e.length;r++)a(e[r],"end");let l=0;for(let r=0;r<e.length;r++)l=ut(e[r],l);let n=0;for(let r=e.length-1;r>=0;r--)n=dt(e[r],n)}function ut(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=ut(a,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function dt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=dt(a,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Aa(e,t){const a=[];let l=0;const n=_a(e);for(;n.size()>0;){let o=n.count();const u=[];let s=1;for(;o>0;){const{element:i,priority:f}=n.dequeue(),y=t-l-Le(i);if(u.push({...i,rowspan:y??1,colspan:i.children?Ce(i).length:1}),i.children)for(const d of i.children){const v=f%1+s/Math.pow(10,l+2);n.enqueue(d,l+y+v)}s+=1,o-=1}l+=1,a.push(u)}return{columns:e.map(o=>Ce(o)).flat(),headers:a}}function ct(e){const t=[];for(const a of e){const l={...Ea(a),...a},n=l.key??(typeof l.value=="string"?l.value:null),r=l.value??n??null,o={...l,key:n,value:r,sortable:l.sortable??(l.key!=null||!!l.sort),children:l.children?ct(l.children):void 0};t.push(o)}return t}function La(e,t){const a=_([]),l=_([]),n=_({}),r=_({}),o=_({});Ze(()=>{const i=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:jt(h)}))).slice(),f=it(i);t?.groupBy?.value.length&&!f.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!f.has("data-table-select")&&i.unshift({key:"data-table-select"}),t?.showExpand?.value&&!f.has("data-table-expand")&&i.push({key:"data-table-expand"});const y=ct(i);Ba(y);const d=Math.max(...y.map(h=>Le(h)))+1,v=Aa(y,d);a.value=v.headers,l.value=v.columns;const S=v.headers.flat(1);for(const h of S)h.key&&(h.sortable&&(h.sort&&(n.value[h.key]=h.sort),h.sortRaw&&(r.value[h.key]=h.sortRaw)),h.filter&&(o.value[h.key]=h.filter))});const u={headers:a,columns:l,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return ee(ot,u),u}function ye(){const e=q(ot);if(!e)throw new Error("Missing headers!");return e}const Oa={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:a}=e;return new Set(a?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},ft={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,currentPage:a,selected:l}=e;return ft.select({items:a,value:t,selected:l})}},vt={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,allItems:a,selected:l}=e;return vt.select({items:a,value:t,selected:l})}},$a=B({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:qe}},"DataTable-select"),gt=Symbol.for("vuetify:data-table-selection");function Ra(e,t){let{allItems:a,currentPage:l}=t;const n=z(e,"modelValue",e.modelValue,x=>new Set(le(x).map(I=>a.value.find(C=>e.valueComparator(I,C.value))?.value??I)),x=>[...x.values()]),r=F(()=>a.value.filter(x=>x.selectable)),o=F(()=>l.value.filter(x=>x.selectable)),u=F(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Oa;case"all":return vt;case"page":default:return ft}}),s=fe(null);function i(x){return le(x).every(I=>n.value.has(I.value))}function f(x){return le(x).some(I=>n.value.has(I.value))}function y(x,I){const C=u.value.select({items:x,value:I,selected:new Set(n.value)});n.value=C}function d(x,I,C){const D=[];if(I=I??l.value.findIndex(O=>O.value===x.value),e.selectStrategy!=="single"&&C?.shiftKey&&s.value!==null){const[O,H]=[s.value,I].sort((k,w)=>k-w);D.push(...l.value.slice(O,H+1).filter(k=>k.selectable))}else D.push(x),s.value=I;y(D,!i([x]))}function v(x){const I=u.value.selectAll({value:x,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=I}const S=F(()=>n.value.size>0),h=F(()=>{const x=u.value.allSelected({allItems:r.value,currentPage:o.value});return!!x.length&&i(x)}),m=E(()=>u.value.showSelectAll),V={toggleSelect:d,select:y,selectAll:v,isSelected:i,isSomeSelected:f,someSelected:S,allSelected:h,showSelectAll:m,lastSelectedIndex:s,selectStrategy:u};return ee(gt,V),V}function he(){const e=q(gt);if(!e)throw new Error("Missing selection!");return e}const Na=B({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),mt=Symbol.for("vuetify:data-table-sort");function Ma(e){const t=z(e,"sortBy"),a=E(()=>e.mustSort),l=E(()=>e.multiSort);return{sortBy:t,mustSort:a,multiSort:l}}function Ha(e){const{sortBy:t,mustSort:a,multiSort:l,page:n}=e,r=s=>{if(s.key==null)return;let i=t.value.map(y=>({...y}))??[];const f=i.find(y=>y.key===s.key);f?f.order==="desc"?a.value&&i.length===1?f.order="asc":i=i.filter(y=>y.key!==s.key):f.order="desc":l.value?i.push({key:s.key,order:"asc"}):i=[{key:s.key,order:"asc"}],t.value=i,n&&(n.value=1)};function o(s){return!!t.value.find(i=>i.key===s.key)}const u={sortBy:t,toggleSort:r,isSorted:o};return ee(mt,u),u}function bt(){const e=q(mt);if(!e)throw new Error("Missing sort!");return e}function ja(e,t,a,l){const n=oe();return{sortedItems:F(()=>a.value.length?Ga(t.value,a.value,n.current.value,{transform:l?.transform,sortFunctions:{...e.customKeySort,...l?.sortFunctions?.value},sortRawFunctions:l?.sortRawFunctions?.value}):t.value)}}function Ga(e,t,a,l){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,l?.transform?l.transform(o):o]).sort((o,u)=>{for(let s=0;s<t.length;s++){let i=!1;const f=t[s].key,y=t[s].order??"asc";if(y===!1)continue;let d=ve(o[1],f),v=ve(u[1],f),S=o[0].raw,h=u[0].raw;if(y==="desc"&&([d,v]=[v,d],[S,h]=[h,S]),l?.sortRawFunctions?.[f]){const m=l.sortRawFunctions[f](S,h);if(m==null)continue;if(i=!0,m)return m}if(l?.sortFunctions?.[f]){const m=l.sortFunctions[f](d,v);if(m==null)continue;if(i=!0,m)return m}if(!i&&(d instanceof Date&&v instanceof Date&&(d=d.getTime(),v=v.getTime()),[d,v]=[d,v].map(m=>m!=null?m.toString().toLocaleLowerCase():m),d!==v))return ue(d)&&ue(v)?0:ue(d)?-1:ue(v)?1:!isNaN(d)&&!isNaN(v)?Number(d)-Number(v):n.compare(d,v)}return 0}).map(o=>{let[u]=o;return u})}const yt=B({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:$,default:"$sortAsc"},sortDescIcon:{type:$,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,..._e(),...aa()},"VDataTableHeaders"),Ue=G()({name:"VDataTableHeaders",props:yt(),setup(e,t){let{slots:a}=t;const{t:l}=oe(),{toggleSort:n,sortBy:r,isSorted:o}=bt(),{someSelected:u,allSelected:s,selectAll:i,showSelectAll:f}=he(),{columns:y,headers:d}=ye(),{loaderClasses:v}=ea(e);function S(w,c){if(!(e.sticky||e.fixedHeader)&&!w.fixed)return;const g=typeof w.fixed=="string"?w.fixed:w.fixed?"start":"none";return{position:"sticky",left:g==="start"?N(w.fixedOffset):void 0,right:g==="end"?N(w.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${c})`:void 0}}function h(w,c){w.key==="Enter"&&!e.disableSort&&n(c)}function m(w){const c=r.value.find(g=>g.key===w.key);return c?c.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:V,backgroundColorStyles:x}=ma(()=>e.color),{displayClasses:I,mobile:C}=me(e),D=F(()=>({headers:d.value,columns:y.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:u.value,allSelected:s.value,selectAll:i,getSortIcon:m})),O=F(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},I.value,v.value]),H=w=>{let{column:c,x:g,y:b}=w;const L=c.key==="data-table-select"||c.key==="data-table-expand",se=c.key==="data-table-group"&&c.width===0&&!c.title,pe=A(e.headerProps??{},c.headerProps??{});return p(re,A({tag:"th",align:c.align,class:[{"v-data-table__th--sortable":c.sortable&&!e.disableSort,"v-data-table__th--sorted":o(c),"v-data-table__th--fixed":c.fixed},...O.value],style:{width:N(c.width),minWidth:N(c.minWidth),maxWidth:N(c.maxWidth),...S(c,b)},colspan:c.colspan,rowspan:c.rowspan,fixed:c.fixed,nowrap:c.nowrap,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,noPadding:L,empty:se,tabindex:c.sortable?0:void 0,onClick:c.sortable?()=>n(c):void 0,onKeydown:c.sortable?K=>h(K,c):void 0},pe),{default:()=>{const K=`header.${c.key}`,Z={column:c,selectAll:i,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:u.value,allSelected:s.value,getSortIcon:m};return a[K]?a[K](Z):se?"":c.key==="data-table-select"?a["header.data-table-select"]?.(Z)??(f.value&&p(Be,{modelValue:s.value,indeterminate:u.value&&!s.value,"onUpdate:modelValue":i},null)):P("div",{class:"v-data-table-header__content"},[P("span",null,[c.title]),c.sortable&&!e.disableSort&&p(ge,{key:"icon",class:"v-data-table-header__sort-icon",icon:m(c)},null),e.multiSort&&o(c)&&P("div",{key:"badge",class:Q(["v-data-table-header__sort-badge",...V.value]),style:be(x.value)},[r.value.findIndex(xe=>xe.key===c.key)+1])])}})},k=()=>{const w=F(()=>y.value.filter(g=>g?.sortable&&!e.disableSort)),c=F(()=>{if(y.value.find(b=>b.key==="data-table-select")!=null)return s.value?"$checkboxOn":u.value?"$checkboxIndeterminate":"$checkboxOff"});return p(re,A({tag:"th",class:[...O.value],colspan:d.value.length+1},e.headerProps),{default:()=>[P("div",{class:"v-data-table-header__content"},[p(Ee,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:l("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:c.value,"onClick:append":()=>i(!s.value)},{chip:g=>p(la,{onClick:g.item.raw?.sortable?()=>n(g.item.raw):void 0,onMousedown:b=>{b.preventDefault(),b.stopPropagation()}},{default:()=>[g.item.title,p(ge,{class:Q(["v-data-table__td-sort-icon",o(g.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:m(g.item.raw),size:"small"},null)]})})])]})};U(()=>C.value?P("tr",null,[p(k,null,null)]):P(Y,null,[a.headers?a.headers(D.value):d.value.map((w,c)=>P("tr",null,[w.map((g,b)=>p(H,{column:g,x:b,y:c},null))])),e.loading&&P("tr",{class:"v-data-table-progress"},[P("th",{colspan:y.value.length},[p(ta,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Ua=B({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ht=Symbol.for("vuetify:data-table-group");function Ka(e){return{groupBy:z(e,"groupBy")}}function Wa(e){const{disableSort:t,groupBy:a,sortBy:l}=e,n=_(new Set),r=F(()=>a.value.map(f=>({...f,order:f.order??!1})).concat(t?.value?[]:l.value));function o(f){return n.value.has(f.id)}function u(f){const y=new Set(n.value);o(f)?y.delete(f.id):y.add(f.id),n.value=y}function s(f){function y(d){const v=[];for(const S of d.items)"type"in S&&S.type==="group"?v.push(...y(S)):v.push(S);return[...new Set(v)]}return y({items:f})}const i={sortByWithGroups:r,toggleGroup:u,opened:n,groupBy:a,extractRows:s,isGroupOpen:o};return ee(ht,i),i}function pt(){const e=q(ht);if(!e)throw new Error("Missing group!");return e}function za(e,t){if(!e.length)return[];const a=new Map;for(const l of e){const n=ve(l.raw,t);a.has(n)||a.set(n,[]),a.get(n).push(l)}return a}function xt(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=za(e,t[0]),r=[],o=t.slice(1);return n.forEach((u,s)=>{const i=t[0],f=`${l}_${i}_${s}`;r.push({depth:a,id:f,key:i,value:s,items:o.length?xt(u,o,a+1,f):u,type:"group"})}),r}function St(e,t,a){const l=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&l.push(n),(t.has(n.id)||n.value==null)&&(l.push(...St(n.items,t,a)),a&&l.push({...n,type:"group-summary"}))):l.push(n);return l}function Qa(e,t,a,l){return{flatItems:F(()=>{if(!t.value.length)return e.value;const r=xt(e.value,t.value.map(o=>o.key));return St(r,a.value,Ut(l))})}}const kt=B({item:{type:Object,required:!0},groupCollapseIcon:{type:$,default:"$tableGroupCollapse"},groupExpandIcon:{type:$,default:"$tableGroupExpand"}},"VDataTableGroupHeaderRow"),Xa=G()({name:"VDataTableGroupHeaderRow",props:kt(),setup(e,t){let{slots:a}=t;const{isGroupOpen:l,toggleGroup:n,extractRows:r}=pt(),{isSelected:o,isSomeSelected:u,select:s}=he(),{columns:i}=ye(),f=F(()=>r([e.item])),y=E(()=>i.value.length-(i.value.some(d=>d.key==="data-table-select")?1:0));return()=>P("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(d=>{if(d.key==="data-table-group"){const v=l(e.item)?e.groupCollapseIcon:e.groupExpandIcon,S=()=>n(e.item);return a["data-table-group"]?.({item:e.item,count:f.value.length,props:{icon:v,onClick:S}})??p(re,{class:"v-data-table-group-header-row__column",colspan:y.value},{default:()=>[p(M,{size:"small",variant:"text",icon:v,onClick:S},null),P("span",null,[e.item.value]),P("span",null,[R("("),f.value.length,R(")")])]})}else if(d.key==="data-table-select"){const v=o(f.value),S=u(f.value)&&!v,h=m=>s(f.value,m);return a["data-table-select"]?.({props:{modelValue:v,indeterminate:S,"onUpdate:modelValue":h}})??p(re,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[p(Be,{modelValue:v,indeterminate:S,"onUpdate:modelValue":h},null)]})}return""})])}}),Ja=B({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Pt=Symbol.for("vuetify:datatable:expanded");function Ya(e){const t=E(()=>e.expandOnClick),a=z(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function l(u,s){const i=new Set(a.value);s?i.add(u.value):i.delete(u.value),a.value=i}function n(u){return a.value.has(u.value)}function r(u){l(u,!n(u))}const o={expand:l,expanded:a,expandOnClick:t,isExpanded:n,toggleExpand:r};return ee(Pt,o),o}function wt(){const e=q(Pt);if(!e)throw new Error("foo");return e}const It=B({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:$,default:"$collapse"},expandIcon:{type:$,default:"$expand"},onClick:ke(),onContextmenu:ke(),onDblclick:ke(),..._e()},"VDataTableRow"),Za=G()({name:"VDataTableRow",props:It(),setup(e,t){let{slots:a}=t;const{displayClasses:l,mobile:n}=me(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:u,allSelected:s,selectAll:i}=he(),{isExpanded:f,toggleExpand:y}=wt(),{toggleSort:d,sortBy:v,isSorted:S}=bt(),{columns:h}=ye();U(()=>P("tr",{class:Q(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},l.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((m,V)=>{const x=e.item,I=`item.${m.key}`,C=`header.${m.key}`,D={index:e.index,item:x.raw,internalItem:x,value:ve(x.columns,m.key),column:m,isSelected:r,toggleSelect:o,isExpanded:f,toggleExpand:y},O={column:m,selectAll:i,isSorted:S,toggleSort:d,sortBy:v.value,someSelected:u.value,allSelected:s.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value,column:m}):e.cellProps,k=typeof m.cellProps=="function"?m.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value}):m.cellProps,w=m.key==="data-table-select"||m.key==="data-table-expand",c=m.key==="data-table-group"&&m.width===0&&!m.title;return p(re,A({align:m.align,indent:m.intent,class:{"v-data-table__td--expanded-row":m.key==="data-table-expand","v-data-table__td--select-row":m.key==="data-table-select"},fixed:m.fixed,fixedOffset:m.fixedOffset,fixedEndOffset:m.fixedEndOffset,lastFixed:m.lastFixed,firstFixedEnd:m.firstFixedEnd,maxWidth:n.value?void 0:m.maxWidth,noPadding:w,empty:c,nowrap:m.nowrap,width:n.value?void 0:m.width},H,k),{default:()=>{if(m.key==="data-table-select")return a["item.data-table-select"]?.({...D,props:{disabled:!x.selectable,modelValue:r([x]),onClick:de(()=>o(x),["stop"])}})??p(Be,{disabled:!x.selectable,modelValue:r([x]),onClick:de(b=>o(x,e.index,b),["stop"])},null);if(m.key==="data-table-expand")return a["item.data-table-expand"]?.({...D,props:{icon:f(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:de(()=>y(x),["stop"])}})??p(M,{icon:f(x)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:de(()=>y(x),["stop"])},null);if(a[I]&&!n.value)return a[I](D);const g=J(D.value);return n.value?P(Y,null,[P("div",{class:"v-data-table__td-title"},[a[C]?.(O)??m.title]),P("div",{class:"v-data-table__td-value"},[a[I]?.(D)??g])]):g}})})]))}}),Vt=B({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Te(It(),["collapseIcon","expandIcon"]),...Te(kt(),["groupCollapseIcon","groupExpandIcon"]),..._e()},"VDataTableRows"),Ke=G()({name:"VDataTableRows",inheritAttrs:!1,props:Vt(),setup(e,t){let{attrs:a,slots:l}=t;const{columns:n}=ye(),{expandOnClick:r,toggleExpand:o,isExpanded:u}=wt(),{isSelected:s,toggleSelect:i}=he(),{toggleGroup:f,isGroupOpen:y}=pt(),{t:d}=oe(),{mobile:v}=me(e);return U(()=>{const S=Te(e,["groupCollapseIcon","groupExpandIcon"]);return e.loading&&(!e.items.length||l.loading)?P("tr",{class:"v-data-table-rows-loading",key:"loading"},[P("td",{colspan:n.value.length},[l.loading?.()??d(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?P("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[P("td",{colspan:n.value.length},[l["no-data"]?.()??d(e.noDataText)])]):P(Y,null,[e.items.map((h,m)=>{if(h.type==="group"){const I={index:m,item:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:s,toggleSelect:i,toggleGroup:f,isGroupOpen:y};return l["group-header"]?l["group-header"](I):p(Xa,A({key:`group-header_${h.id}`,item:h},He(a,":group-header",()=>I),S),l)}if(h.type==="group-summary"){const I={index:m,item:h,columns:n.value,toggleGroup:f};return l["group-summary"]?.(I)??""}const V={index:m,item:h.raw,internalItem:h,columns:n.value,isExpanded:u,toggleExpand:o,isSelected:s,toggleSelect:i},x={...V,props:A({key:`item_${h.key??h.index}`,onClick:r.value?()=>{o(h)}:void 0,index:m,item:h,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,mobile:v.value},He(a,":row",()=>V),typeof e.rowProps=="function"?e.rowProps({item:V.item,index:V.index,internalItem:V.internalItem}):e.rowProps)};return P(Y,{key:x.props.key},[l.item?l.item(x):p(Za,x.props,l),u(h)&&l["expanded-row"]?.(V)])})])}),{}}}),Dt=B({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...Ae(),...tt(),...lt(),...Je()},"VTable"),We=G()({name:"VTable",props:Dt(),setup(e,t){let{slots:a,emit:l}=t;const{themeClasses:n}=Xe(e),{densityClasses:r}=ba(e);return U(()=>{const o={VCheckboxBtn:{density:e.density}};return p(e.tag,{class:Q(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,r.value,e.class]),style:be(e.style)},{default:()=>[a.top?.(),p(at,{defaults:o},{default:()=>[a.default?P("div",{class:"v-table__wrapper",style:{height:N(e.height)}},[P("table",null,[a.default()])]):a.wrapper?.()]}),a.bottom?.()]})}),{}}}),qa=B({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function el(e,t,a,l){const n=e.returnObject?t:ae(t,e.itemValue),r=ae(t,e.itemSelectable,!0),o=l.reduce((u,s)=>(s.key!=null&&(u[s.key]=ae(t,s.value)),u),{});return{type:"item",key:e.returnObject?ae(t,e.itemValue):n,index:a,value:n,selectable:r,columns:o,raw:t}}function tl(e,t,a){return t.map((l,n)=>el(e,l,n,a))}function al(e,t){return{items:F(()=>tl(e,e.items,t.value))}}function ll(e){let{page:t,itemsPerPage:a,sortBy:l,groupBy:n,search:r}=e;const o=Ye("VDataTable"),u=()=>({page:t.value,itemsPerPage:a.value,sortBy:l.value,groupBy:n.value,search:r.value});let s=null;ne(u,i=>{qe(s,i)||(s&&s.search!==i.search&&(t.value=1),o.emit("update:options",i),s=i)},{deep:!0,immediate:!0})}const nl=(e,t,a)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const l=[];let n=e.indexOf(t);for(;~n;)l.push([n,n+t.length]),n=e.indexOf(t,n+t.length);return l.length?l:-1};function Ve(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const rl=B({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function ol(e,t,a){const l=[],n=a?.default??nl,r=a?.filterKeys?le(a.filterKeys):!1,o=Object.keys(a?.customKeyFilter??{}).length;if(!e?.length)return l;let u=null;e:for(let s=0;s<e.length;s++){const[i,f=i]=le(e[s]),y={},d={};let v=-1;if((t||o>0)&&!a?.noFilter){let S=!1;if(typeof i=="object"){if(i.type==="divider"||i.type==="subheader"){u?.type==="divider"&&i.type==="subheader"&&l.push(u),u={index:s,matches:{},type:i.type};continue}const V=r||Object.keys(f);S=V.length===o;for(const x of V){const I=ae(f,x),C=a?.customKeyFilter?.[x];if(v=C?C(I,t,i):n(I,t,i),v!==-1&&v!==!1)C?y[x]=Ve(v,t):d[x]=Ve(v,t);else if(a?.filterMode==="every")continue e}}else v=n(i,t,i),v!==-1&&v!==!1&&(d.title=Ve(v,t));const h=Object.keys(d).length,m=Object.keys(y).length;if(!h&&!m||a?.filterMode==="union"&&m!==o&&!h||a?.filterMode==="intersection"&&(m!==o||!h&&o>0&&!S))continue}u&&(l.push(u),u=null),l.push({index:s,matches:{...d,...y}})}return l}function sl(e,t,a,l){const n=fe([]),r=fe(new Map),o=F(()=>l?.transform?te(t).map(s=>[s,l.transform(s)]):te(t));Ze(()=>{const s=typeof a=="function"?a():te(a),i=typeof s!="string"&&typeof s!="number"?"":String(s),f=ol(o.value,i,{customKeyFilter:{...e.customKeyFilter,...te(l?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),y=te(t),d=[],v=new Map;f.forEach(S=>{let{index:h,matches:m}=S;const V=y[h];d.push(V),v.set(V.value,m)}),n.value=d,r.value=v});function u(s){return r.value.get(s.value)}return{filteredItems:n,filteredMatches:r,getMatches:u}}const il=B({...Vt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Ja(),...Ua(),...Ta(),...qa(),...$a(),...Na(),...yt(),...Dt()},"DataTable"),ul=B({...wa(),...il(),...rl(),...rt()},"VDataTable"),dl=G()({name:"VDataTable",props:ul(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:l}=t;const{groupBy:n}=Ka(e),{sortBy:r,multiSort:o,mustSort:u}=Ma(e),{page:s,itemsPerPage:i}=Ia(e),{disableSort:f}=Kt(e),{columns:y,headers:d,sortFunctions:v,sortRawFunctions:S,filterFunctions:h}=La(e,{groupBy:n,showSelect:E(()=>e.showSelect),showExpand:E(()=>e.showExpand)}),{items:m}=al(e,y),V=E(()=>e.search),{filteredItems:x}=sl(e,m,V,{transform:W=>W.columns,customKeyFilter:h}),{toggleSort:I}=Ha({sortBy:r,multiSort:o,mustSort:u,page:s}),{sortByWithGroups:C,opened:D,extractRows:O,isGroupOpen:H,toggleGroup:k}=Wa({groupBy:n,sortBy:r,disableSort:f}),{sortedItems:w}=ja(e,x,C,{transform:W=>({...W.raw,...W.columns}),sortFunctions:v,sortRawFunctions:S}),{flatItems:c}=Qa(w,n,D,()=>!!l["group-summary"]),g=F(()=>c.value.length),{startIndex:b,stopIndex:L,pageCount:se,setItemsPerPage:pe}=Va({page:s,itemsPerPage:i,itemsLength:g}),{paginatedItems:K}=Fa({items:c,startIndex:b,stopIndex:L,itemsPerPage:i}),Z=F(()=>O(K.value)),{isSelected:xe,select:Ft,selectAll:Tt,toggleSelect:Ct,someSelected:_t,allSelected:Et}=Ra(e,{allItems:m,currentPage:Z}),{isExpanded:Bt,toggleExpand:At}=Ya(e);ll({page:s,itemsPerPage:i,sortBy:r,groupBy:n,search:V}),De({VDataTableRows:{hideNoData:E(()=>e.hideNoData),noDataText:E(()=>e.noDataText),loading:E(()=>e.loading),loadingText:E(()=>e.loadingText)}});const j=F(()=>({page:s.value,itemsPerPage:i.value,sortBy:r.value,pageCount:se.value,toggleSort:I,setItemsPerPage:pe,someSelected:_t.value,allSelected:Et.value,isSelected:xe,select:Ft,selectAll:Tt,toggleSelect:Ct,isExpanded:Bt,toggleExpand:At,isGroupOpen:H,toggleGroup:k,items:Z.value.map(W=>W.raw),internalItems:Z.value,groupedItems:K.value,columns:y.value,headers:d.value}));return U(()=>{const W=Ge.filterProps(e),Lt=Ue.filterProps(e),Ot=Ke.filterProps(e),$t=We.filterProps(e);return p(We,A({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},$t,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>l.top?.(j.value),default:()=>l.default?l.default(j.value):P(Y,null,[l.colgroup?.(j.value),!e.hideDefaultHeader&&P("thead",{key:"thead"},[p(Ue,Lt,l)]),l.thead?.(j.value),!e.hideDefaultBody&&P("tbody",null,[l["body.prepend"]?.(j.value),l.body?l.body(j.value):p(Ke,A(a,Ot,{items:K.value}),l),l["body.append"]?.(j.value)]),l.tbody?.(j.value),l.tfoot?.(j.value)]),bottom:()=>l.bottom?l.bottom(j.value):!e.hideDefaultFooter&&P(Y,null,[p(ya,null,null),p(Ge,W,{prepend:l["footer.prepend"]})])})}),{}}}),cl=B({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...na({origin:"center center",scrollStrategy:"block",transition:{component:ra},zIndex:2400})},"VDialog"),ze=G()({name:"VDialog",props:cl(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:l}=t;const n=z(e,"modelValue"),{scopeId:r}=ha(),o=_();function u(f){const y=f.relatedTarget,d=f.target;if(y!==d&&o.value?.contentEl&&o.value?.globalTop&&![document,o.value.contentEl].includes(d)&&!o.value.contentEl.contains(d)){const v=Qt(o.value.contentEl);if(!v.length)return;const S=v[0],h=v[v.length-1];y===S?h.focus():S.focus()}}Wt(()=>{document.removeEventListener("focusin",u)}),zt&&ne(()=>n.value&&e.retainFocus,f=>{f?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0});function s(){a("afterEnter"),(e.scrim||e.retainFocus)&&o.value?.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function i(){a("afterLeave")}return ne(n,async f=>{f||(await Fe(),o.value.activatorEl?.focus({preventScroll:!0}))}),U(()=>{const f=Ne.filterProps(e),y=A({"aria-haspopup":"dialog"},e.activatorProps),d=A({tabindex:-1},e.contentProps);return p(Ne,A({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,"aria-modal":"true",activatorProps:y,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:i},r),{activator:l.activator,default:function(){for(var v=arguments.length,S=new Array(v),h=0;h<v;h++)S[h]=arguments[h];return p(at,{root:"VDialog"},{default:()=>[l.default?.(...S)]})}})}),et({},o)}}),fl=B({...Ae(),...sa()},"VForm"),vl=G()({name:"VForm",props:fl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:l}=t;const n=oa(e),r=_();function o(s){s.preventDefault(),n.reset()}function u(s){const i=s,f=n.validate();i.then=f.then.bind(f),i.catch=f.catch.bind(f),i.finally=f.finally.bind(f),l("submit",i),i.defaultPrevented||f.then(y=>{let{valid:d}=y;d&&r.value?.submit()}),i.preventDefault()}return U(()=>P("form",{ref:r,class:Q(["v-form",e.class]),style:be(e.style),novalidate:!0,onReset:o,onSubmit:u},[a.default?.(n)])),et(n,r)}}),Qe=pa("v-spacer","div","VSpacer"),gl={key:0,class:"text-red-500"},ml={class:"d-flex ga-4 justify-space-between align-center w-100"},bl={class:"d-flex ga-4 align-center"},yl={__name:"DataTableCRUD",props:{title:String,tableTitle:String,headers:Array,apiUrl:String,apiEndpoints:Object,formFields:Array,itemSingular:String},emits:["field-updated","on-edit"],setup(e,{expose:t,emit:a}){const l=a,n=e,r=_([]),o=_(""),u=_(null),s=_(!1),i=_({}),f=_(""),y=_(null),d=_(!1),v=_(""),S=_(null);t({editedItem:i});const h=F(()=>f.value==="add"?`新增${n.itemSingular}`:`編輯${n.itemSingular}`),m=F(()=>{if(!o.value)return r.value;const c=o.value.toLowerCase();return r.value.filter(g=>Object.values(g).some(b=>String(b).toLowerCase().includes(c)))}),{$curridataAPI:V}=Jt(),x=async()=>{try{const c=await V.get(n.apiUrl+n.apiEndpoints.get);r.value=c.data}catch(c){console.error(c),u.value="無法從 API 取得資料。"}},I=(c,g={})=>{f.value=c,i.value={...g},c==="edit"&&l("on-edit",i.value),s.value=!0},C=()=>{s.value=!1,i.value={},y.value&&y.value.resetValidation()},D=(c,g)=>{l("field-updated",{key:c,value:g})},O=async()=>{const{valid:c}=await y.value.validate();if(!c)return;const g={...i.value};for(const b of n.formFields)b.type==="select"&&b["return-object"]&&g[b.key]&&typeof g[b.key]=="object"&&(g[b.key]=g[b.key][b["item-title"]||"NAME"]);try{if(f.value==="add")await V.post(n.apiUrl+n.apiEndpoints.add,g);else{const b=n.apiEndpoints.update.replace("{id}",g.ID);await V.put(n.apiUrl+b,g)}C(),await x()}catch(b){console.error(b),u.value=b.response?.data?.detail||"儲存資料失敗。"}},H=c=>{S.value=c,v.value=`確定要刪除${n.itemSingular} ${c[n.headers[1].value]} 嗎？`,d.value=!0},k=async()=>{const c=S.value;if(!c||!c.ID){u.value=`刪除失敗：無效的${n.itemSingular} ID。`,console.error("嘗試刪除一個沒有 ID 的項目。"),d.value=!1;return}try{const g=n.apiEndpoints.delete.replace("{id}",c.ID);await V.delete(n.apiUrl+g),await x(),d.value=!1}catch(g){console.error(g),u.value=g.response?.data?.detail||"刪除資料失敗。",d.value=!1}},w=()=>{d.value=!1,S.value=null};return Yt(()=>{x()}),(c,g)=>(X(),Pe("div",null,[P("h2",null,J(e.title),1),u.value?(X(),Pe("div",gl,[P("p",null,J(u.value),1)])):(X(),ce(we,{key:1,class:"mt-4"},{default:T(()=>[p(Ie,null,{default:T(()=>[P("div",ml,[P("span",null,J(e.tableTitle),1),P("div",bl,[p(M,{color:"primary","prepend-icon":"mdi-plus-circle",onClick:g[0]||(g[0]=b=>I("add")),height:"40"},{default:T(()=>[R(" 新增"+J(e.itemSingular),1)]),_:1}),p(Me,{modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=b=>o.value=b),label:"輸入關鍵字查詢","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",class:"search-field"},null,8,["modelValue"])])])]),_:1}),p(dl,{headers:e.headers,items:m.value,class:"elevation-10"},{"item.actions":T(({item:b})=>[p(ge,{class:"me-2",size:"small",onClick:L=>I("edit",b)},{default:T(()=>[...g[4]||(g[4]=[R(" mdi-pencil ",-1)])]),_:1},8,["onClick"]),p(ge,{size:"small",onClick:L=>H(b)},{default:T(()=>[...g[5]||(g[5]=[R(" mdi-delete ",-1)])]),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})),p(ze,{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=b=>s.value=b),"max-width":"600px"},{default:T(()=>[p(we,null,{default:T(()=>[p(Ie,null,{default:T(()=>[R(J(h.value),1)]),_:1}),p($e,null,{default:T(()=>[p(xa,null,{default:T(()=>[p(vl,{ref_key:"form",ref:y},{default:T(()=>[p(ia,null,{default:T(()=>[(X(!0),Pe(Y,null,Zt(e.formFields,b=>(X(),ce(ua,{key:b.key,cols:"12",sm:"6"},{default:T(()=>[b.type==="text"?(X(),ce(Me,{key:0,modelValue:i.value[b.key],"onUpdate:modelValue":L=>i.value[b.key]=L,label:b.label,rules:b.rules,readonly:b.readonly},null,8,["modelValue","onUpdate:modelValue","label","rules","readonly"])):b.type==="select"?(X(),ce(Ee,{key:1,modelValue:i.value[b.key],"onUpdate:modelValue":[L=>i.value[b.key]=L,L=>D(b.key,i.value[b.key])],items:b.items,"item-title":b["item-title"],"item-value":b["item-value"],label:b.label,rules:b.rules,"return-object":b["return-object"]},null,8,["modelValue","onUpdate:modelValue","items","item-title","item-value","label","rules","return-object"])):qt("",!0)]),_:2},1024))),128))]),_:1})]),_:1},512)]),_:1})]),_:1}),p(Re,null,{default:T(()=>[p(Qe),p(M,{color:"blue-darken-1",variant:"text",onClick:C},{default:T(()=>[...g[6]||(g[6]=[R("取消",-1)])]),_:1}),p(M,{color:"blue-darken-1",variant:"text",onClick:O},{default:T(()=>[...g[7]||(g[7]=[R("儲存",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),p(ze,{modelValue:d.value,"onUpdate:modelValue":g[3]||(g[3]=b=>d.value=b),"max-width":"400"},{default:T(()=>[p(we,null,{default:T(()=>[p(Ie,{class:"headline"},{default:T(()=>[...g[8]||(g[8]=[R("確認",-1)])]),_:1}),p($e,null,{default:T(()=>[R(J(v.value),1)]),_:1}),p(Re,null,{default:T(()=>[p(Qe),p(M,{color:"blue-darken-1",variant:"text",onClick:w},{default:T(()=>[...g[9]||(g[9]=[R("取消",-1)])]),_:1}),p(M,{color:"blue-darken-1",variant:"text",onClick:k},{default:T(()=>[...g[10]||(g[10]=[R("確定",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Pl=Xt(yl,[["__scopeId","data-v-4a5d82cd"]]);export{Pl as D};
